<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Route Map</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <style>
    .hide{
      display: none;
    }
  </style>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/user512.png">
</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <br><br><br><br><br>
    <div class="animated fadeInLeft" id="c1">
    <div class="row">
        <h2>Generate Route Map</h2>
    </div>
      <form>
          <div class="row">
            <div class="six columns">
              <label for="lat">Latitude</label>
              <input class="u-full-width" type="number" placeholder="eg: 10.04507174" id="lat">
            </div>
            <div class="six columns">
                <label for="long">Longitude</label>
                <input class="u-full-width" type="number" placeholder="eg: 79.23042385" id="long">
            </div>
          </div>
          <div class="row">
              <label for="pname">Place</label>
              <input class="u-full-width" type="text" placeholder="Name" id="pname">
          </div>
          <input class="button-primary" type="button" value="Create Map" onclick="processValues()">
        </form>
        </div>
        <div id="c2" class="hide">
        </div>        
  </div>
<script> 
  function processValues(){
    var lat = document.getElementById("lat").value;
    var long = document.getElementById("long").value;
    var place = document.getElementById("pname").value;
    var c1 = document.getElementById("c1");
    var c2 = document.getElementById("c2");
    if(lat == "" || long == "" || place == ""){
      alert("Please fill all inputs.");
    }else{
        var genLink = `https://inav33n.github.io/RouteMap/map.html?lat=${lat}&long=${long}&place=${place}`
        c1.classList.add("hide");
        c2.innerHTML = `<a id="sUrl" href="${genLink}" style="color:black;text-decoration:none;font-weight: bold;font-size: 15px;">${genLink}</a><br><a href="https://bitly.com/">Use bitly.com to shorten URL.</a><br><br><input type="button" value="Copy Link" onclick="copyURL()">`;
        c2.classList.remove("hide");
        c2.classList.add("animated", "fadeIn");
        console.log(`Lat: ${lat}\nLong: ${long}\nPlace: ${place}`);
    }
  }

  function copyURL(){
    var range = document.createRange();
     range.selectNode(document.getElementById("sUrl"));
     window.getSelection().addRange(range);
     document.execCommand("copy");
     window.getSelection().removeAllRanges();
     alert("Link Copied.") 
  }
</script>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
